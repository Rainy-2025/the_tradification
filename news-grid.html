<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>Edulerns | Education HTML Template</title>
	<!-- Stylesheets -->
	<link href="css/bootstrap.min.css" rel="stylesheet">

	<link href="css/style.css" rel="stylesheet">
	<link href="css/responsive.css" rel="stylesheet">

	<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
	<link rel="icon" href="images/favicon.png" type="image/x-icon">
<script src="https://cdn.jsdelivr.net/npm/mixitup/dist/mixitup.min.js"></script>

	<!-- Responsive -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<!--[if lt IE 9]><script src="js/html5shiv.js"></script><![endif]-->
	<!--[if lt IE 9]><script src="js/respond.js"></script><![endif]-->
</head>

<body>

	<div class="page-wrapper">

		<!-- Preloader -->
		<div class="preloader"></div>

		<!-- Main Header-->
		<header class="main-header header-style-two">

		<!-- Header Top -->
		<div class="header-top">
			<div class="auto-container">
				<div class="inner-container">
					<div class="top-left">
						<div class="text"></div>
					</div>

					<div class="top-right">
						

						<ul class="social-icon-one light">
							<li><a href="#"><span class="fab fa-twitter"></span></a></li>
							<li><a href="#"><span class="fab fa-facebook-square"></span></a></li>
							<li><a href="#"><span class="fab fa-pinterest-p"></span></a></li>
							<li><a href="#"><span class="fab fa-instagram"></span></a></li>
						</ul>
					</div>
				</div>
			</div>
		</div>
		<!-- Header Top -->

		<!-- Header Upper -->
		<div class="header-upper">
			<div class="auto-container">
				<div class="inner-container">
					<div class="logo-box">
						<div class="logo"><a href="index.html"><img src="images/logo.png" alt=""></a></div>
					</div>

					<ul class="contact-info-outer">
						<li>
							<!-- Contact Info Box -->
							<div class="contact-info-box">
								<i class="icon lnr-icon-phone-handset"></i>
								<span class="title">Call Anytime</span>
								<a href="tel:+92880098670" class="text">+ 98 (000) - 9630</a>
							</div>
						</li>
						<li>
							<!-- Contact Info Box -->
							<div class="contact-info-box">
								<i class="icon lnr-icon-phone-handset"></i>
								<span class="title">Send Email</span>
								<a href="https://html.kodesolution.com/cdn-cgi/l/email-protection#10717d72757450737f7d60717e693e737f7d" class="text"><span class="__cf_email__" data-cfemail="4c2d212e29280c2f23213c2d2235622f2321">[email&#160;protected]</span></a>
							</div>
						</li>
						<li>
							<!-- Contact Info Box -->
							<div class="contact-info-box">
								<i class="icon lnr-icon-phone-handset"></i>
								<span class="title">380 ST Kilda Road</span>
								<div class="text">Melbourne, Australia</div>
							</div>
						</li>
					</ul>

					<!-- Mobile Nav toggler -->
					<div class="mobile-nav-toggler"><span class="icon lnr-icon-bars"></span></div>
				</div>
			</div>
		</div>
		<!-- Header Upper -->


		<!-- Header Lower -->
		<div class="header-lower">
			<div class="auto-container">
				<!-- Main box -->
				<div class="main-box">
					<!--Nav Box-->
					<div class="nav-outer">

						<nav class="nav main-menu">
							<ul class="navigation">
								<li ><a href="index.html">Home</a>
								</li>
								<li ><a href="page-about.html">About</a>
								</li>
								<li ><a href="page-webinars.html">Webinar</a>
								</li>
								<li class="current "><a href="news-grid.html">Courses</a>
								</li>
								<li><a href="page-contact.html">Contact</a></li>
							</ul>
						</nav>
						<!-- Main Menu End-->
<div class="outer-box" id="user-nav">
  <!-- This will be filled dynamically -->
</div>

					</div>
				</div>
				<!-- End Main Box -->
			</div>
		</div>
		<!-- Header Lower -->


		<!-- Mobile Menu  -->
		<div class="mobile-menu">
			<div class="menu-backdrop"></div>

			<!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header-->
			<nav class="menu-box">
				<div class="upper-box">
					<div class="nav-logo"><a href="index.html"><img src="images/logo-2.png" alt="" title=""></a></div>
					<div class="close-btn"><i class="icon fa fa-times"></i></div>
				</div>

				<ul class="navigation clearfix">
					<!--Keep This Empty / Menu will come through Javascript-->
				</ul>
				<ul class="contact-list-one">
					<li>
						<!-- Contact Info Box -->
						<div class="contact-info-box">
							<i class="icon lnr-icon-phone-handset"></i>
							<span class="title">Call Now</span>
							<a href="tel:+92880098670">+92 (8800) - 98670</a>
						</div>
					</li>
					<li>
						<!-- Contact Info Box -->
						<div class="contact-info-box">
							<span class="icon lnr-icon-envelope1"></span>
							<span class="title">Send Email</span>
							<a href="https://html.kodesolution.com/cdn-cgi/l/email-protection#cca4a9a0bc8cafa3a1bcada2b5e2afa3a1"><span class="__cf_email__" data-cfemail="c6aea3aab686a5a9abb6a7a8bfe8a5a9ab">[email&#160;protected]</span></a>
						</div>
					</li>
					<li>
						<!-- Contact Info Box -->
						<div class="contact-info-box">
							<span class="icon lnr-icon-clock"></span>
							<span class="title">Send Email</span>
							Mon - Sat 8:00 - 6:30, Sunday - CLOSED
						</div>
					</li>
				</ul>


				<ul class="social-links">
					<li><a href="#"><i class="fab fa-twitter"></i></a></li>
					<li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
					<li><a href="#"><i class="fab fa-pinterest"></i></a></li>
					<li><a href="#"><i class="fab fa-instagram"></i></a></li>
				</ul>
			</nav>
		</div><!-- End Mobile Menu -->

		<!-- Header Search -->
		<div class="search-popup">
			<span class="search-back-drop"></span>
			<button class="close-search"><span class="fa fa-times"></span></button>

			<div class="search-inner">
				<form method="post" action="https://html.kodesolution.com/2022/edulerns-html/index.html">
					<div class="form-group">
						<input type="search" name="search-field" value="" placeholder="Search..." required="">
						<button type="submit"><i class="fa fa-search"></i></button>
					</div>
				</form>
			</div>
		</div>
		<!-- End Header Search -->

		<!-- Sticky Header  -->
		<div class="sticky-header">
			<div class="auto-container">
				<div class="inner-container">
					<!--Logo-->
					<div class="logo">
						<a href="index.html" title=""><img src="images/logo.png" alt="" title=""></a>
					</div>

					<!--Right Col-->
					<div class="nav-outer">
						<!-- Main Menu -->
						<nav class="main-menu">
							<div class="navbar-collapse show collapse clearfix">
								<ul class="navigation clearfix">
									<!--Keep This Empty / Menu will come through Javascript-->
								</ul>
							</div>
						</nav><!-- Main Menu End-->

						<!--Mobile Navigation Toggler-->
						<div class="mobile-nav-toggler"><span class="icon lnr-icon-bars"></span></div>
					</div>
				</div>
			</div>
		</div><!-- End Sticky Menu -->
	</header>
		<!--End Main Header -->

		<!-- Start main-content -->
		<section class="page-title" style="background-image: url(images/background/page-title.jpg);">
			<div class="auto-container">
				<div class="title-outer">
					<h1 class="title">Course</h1>
					<ul class="page-breadcrumb">
						<li><a href="index.html">Home</a></li>
						<li>Course</li>
					</ul>
				</div>
			</div>
		</section>
		<!-- end main-content -->
<!-- Include MixItUp Library -->

		<!-- News Section -->
		<section class=" featured-products">
			<span class="bg-shape"></span>

			<div class="auto-container ">

				<!--MixitUp Galery-->
				<div class="mixitup-gallery">
					<!--Filter-->
				<div class="filters clearfix">
  <ul class="filter-tabs filter-btns clearfix" id="category-filters">
    <!-- Buttons will be injected here dynamically -->
  </ul>
</div>
<div class="filter-list row"></div>
<script>
window.addEventListener('load', function() {
  let mixer;

  function setupFilters() {
    const container = document.getElementById('category-filters');
    const buttons = container.querySelectorAll('li button.filter, li button.active');

    buttons.forEach(button => {
      button.addEventListener('click', () => {
        console.log('Filter button clicked:', button.textContent);
        // Remove active class from all buttons
        buttons.forEach(btn => btn.classList.remove('active'));
        // Add active class to clicked button
        button.classList.add('active');
        // Filter MixItUp
        const filterValue = button.getAttribute('data-filter');
        console.log('Filtering with:', filterValue);
        mixer.filter(filterValue);
      });
    });
  }

  Promise.all([
    fetch('backend//fetch_course_categories.php').then(res => res.json()),
    fetch('backend//fetch_courses.php').then(res => res.json())
  ]).then(([categories, courses]) => {
    const categoryContainer = document.getElementById('category-filters');
    const courseContainer = document.querySelector('.filter-list');

    // Clear existing buttons and courses
    categoryContainer.innerHTML = '';
    courseContainer.innerHTML = '';

    // Add "All" button
    const allLi = document.createElement('li');
    const allBtn = document.createElement('button');
    allBtn.className = "active filter";
    allBtn.setAttribute("data-role", "button");
    allBtn.setAttribute("data-filter", "*");
    allBtn.textContent = "All";
    allLi.appendChild(allBtn);
    categoryContainer.appendChild(allLi);

    // Add dynamic category buttons
    categories.forEach(category => {
      const li = document.createElement('li');
      const btn = document.createElement('button');
      btn.className = "filter";
      btn.setAttribute("data-role", "button");
      btn.setAttribute("data-filter", `.category-${category.id}`);
      btn.textContent = category.name;
      li.appendChild(btn);
      categoryContainer.appendChild(li);
    });

    // Add courses
            courses.forEach(course => {
              const courseDiv = document.createElement('div');
              courseDiv.className = `course-block-two mix category-${course.category_id} col-lg-4 col-md-6 col-sm-12`;
              courseDiv.innerHTML = `
                <div class="inner-box">
                  <div class="image-box">
                    <figure class="image"><a href="#"><img src="project-settings/backend/uploads/${course.thumbnail}" alt=""></a></figure>
                    <span class="price">$${course.price || 'Free'}</span>
                    <div class="value">${course.level || 'Beginner'}</div>
                  </div>
                  <div class="content-box">
                    <ul class="course-info">
                      <li><i class="fa fa-book"></i> ${course.lectures || 0} Lessons</li>
                      <li><i class="fa fa-clock"></i> ${course.duration || 'N/A'}</li>
                    </ul>
                    <h5 class="title"><a href="course-details.html?id=${course.id}">${course.name}</a></h5>
              
                    </div>
                  </div>
                </div>
              `;
              courseContainer.appendChild(courseDiv);
            });

    // Initialize MixItUp
    mixer = mixitup('.mixitup-gallery .filter-list', {
      load: {
        filter: '*'
      }
    });

    // Setup filter button event listeners
    setupFilters();
  }).catch(error => console.error('Error loading categories or courses:', error));
});
</script>

					</div>
				</div>
			</div>
		</section>
		<!--End News Section -->

		<!-- Main Footer -->
		<footer class="main-footer">
			<div class="bg-image zoom-two" style="background-image: url(images/background/4.jpg)"></div>

			<!--Widgets Section-->
			<div class="widgets-section">
				<div class="auto-container">
					<div class="row">
						<!--Footer Column-->
						<div class="footer-column col-xl-3 col-lg-12 col-md-6 col-sm-12">
							<div class="footer-widget about-widget">
								<div class="logo"><a href="index.html"><img src="images/logo-2.png" alt=""></a></div>
								<div class="text">Get 26,000+ best online courses from us</div>
								<ul class="social-icon-two">
									<li><a href="#"><i class="fab fa-twitter"></i></a></li>
									<li><a href="#"><i class="fab fa-facebook"></i></a></li>
									<li><a href="#"><i class="fab fa-pinterest"></i></a></li>
									<li><a href="#"><i class="fab fa-instagram"></i></a></li>
								</ul>
							</div>
						</div>

						<!--Footer Column-->
						<div class="footer-column col-xl-2 col-lg-4 col-md-6 col-sm-12">
							<div class="footer-widget">
								<h4 class="widget-title">Explore</h4>
								<ul class="user-links">
									<li><a href="#">Gallery</a></li>
									<li><a href="#">News & Articles</a></li>
									<li><a href="#">FAQ's</a></li>
									<li><a href="#">Sign In/Registration</a></li>
									<li><a href="#">Coming Soon</a></li>
									<li><a href="#">Contacts</a></li>
								</ul>
							</div>
						</div>

						<!--Footer Column-->
						<div class="footer-column col-xl-2 col-lg-4 col-md-6 col-sm-12">
							<div class="footer-widget">
								<h4 class="widget-title">Links</h4>
								<ul class="user-links">
									<li><a href="#">About</a></li>
									<li><a href="#">Courses</a></li>
									<li><a href="#">Instructor</a></li>
									<li><a href="#">Events</a></li>
									<li><a href="#">Instructor Profile</a></li>
								</ul>
							</div>
						</div>

						<!--Footer Column-->
						<div class="footer-column col-xl-5 col-lg-4 col-md-6 col-sm-12">
							<div class="footer-widget contact-widget">
								<h4 class="widget-title">Contact</h4>
								<div class="widget-content">
									<ul class="contact-info">
										<li><i class="fa fa-phone-square"></i> <a href="tel:+926668880000">+92 (0088)
												6823</a></li>
										<li><i class="fa fa-envelope"></i> <a
												href="https://html.kodesolution.com/cdn-cgi/l/email-protection#452b2020212d20293505352a312c36202b6b262a28"><span
													class="__cf_email__"
													data-cfemail="630d0606070b060f1323000c0e13020d1a4d000c0e">[email&#160;protected]</span></a>
										</li>
										<li><i class="fa fa-map-marker-alt"></i> 80 Broklyn Golden Street. New York. USA
										</li>
									</ul>
									<div class="subscribe-form">

										<form method="post" action="#">
											<div class="form-group">
												<input type="email" name="email" class="email" value=""
													placeholder="Email Address" required="">
												<button type="button" class="theme-btn btn-style-one"><i
														class="fa fa-long-arrow-alt-right"></i></button>
											</div>
										</form>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!--Footer Bottom-->
			<div class="footer-bottom">
				<div class="auto-container">
					<div class="inner-container">
						<div class="copyright-text">&copy; Copyright reserved by <a
								href="index.html">kodesolution.com</a></div>
					</div>
				</div>
			</div>
		</footer>
		<!--End Main Footer -->

	</div><!-- End Page Wrapper -->


	<!-- Scroll To Top -->
	<div class="scroll-to-top scroll-to-target" data-target="html"><span class="fa fa-angle-up"></span></div>


	<script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
	<script src="js/jquery.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.fancybox.js"></script>
	<script src="js/jquery-ui.js"></script>
	<script src="js/wow.js"></script>
	<script src="js/appear.js"></script>
	<script src="js/mixitup.js"></script>
	<script src="js/select2.min.js"></script>
	<script src="js/swiper.min.js"></script>
	<script src="js/owl.js"></script>
	<script src="js/script.js"></script>
	<script>
document.addEventListener("DOMContentLoaded", function () {
  fetch("backend/check_session.php") // adjust path as needed
    .then(res => res.json())
    .then(data => {
      const userNav = document.getElementById("user-nav");

      if (data.loggedIn) {
        userNav.innerHTML = `
          <div class="dropdown">
            <button class="theme-btn btn-style-two dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              Welcome, ${data.userName}
            </button>
            <ul class="dropdown-menu" aria-labelledby="userDropdown">
              <li><a class="dropdown-item" href="profile.html">Profile</a></li>
              <li><a class="dropdown-item" href="history.html">History</a></li>
              <li><a class="dropdown-item" href="#" id="logout-btn">Logout</a></li>
            </ul>
          </div>
        `;
      } else {
        userNav.innerHTML = `
          <a href="login.html" class="theme-btn btn-style-two"><span class="btn-title">Login</span></a>
        `;
      }
    });
});

document.addEventListener("click", function (e) {
  if (e.target && e.target.id === "logout-btn") {
    e.preventDefault();

    fetch("backend/logout.php")
      .then(res => res.json())
      .then(data => {
        if (data.success) {
          location.reload(); // reload page to show Login button again
        }
      });
  }
});

</script>
</body>

</html>